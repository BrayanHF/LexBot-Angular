<div class="bg-teal-50">

  <div class="flex items-center justify-center">
    <div class="xl:mx-auto xl:w-full p-8 xl:max-w-lg 2xl:max-w-md border border-teal-700 rounded-2xl">
      <div class="mb-2"></div>
      <h2 class="text-2xl font-bold leading-tight text-center">
        Regístrate para crear una cuenta
      </h2>
      <p [routerLink]="['/auth/login']" class="text-sm mt-2 text-gray-600 hover:underline cursor-pointer text-center">
        ¿Ya tienes una cuenta? Inicia sesión clicando aqui
      </p>

      <form
        [formGroup]="form"
        (ngSubmit)="onRegister()"
        class="p-2"
      >
        <div class="mt-5 space-y-4">

          <div>
            <label class="text-base font-medium text-gray-900">
              Nombre completo
            </label>
            <div class="mt-2">
              <input
                placeholder="Nombre completo"
                type="text"
                class="flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50"
                name="displayName"
                formControlName="displayName"
              />
              <div *ngIf="form.get('displayName')?.touched">
                <small *ngIf="form.get('displayName')?.hasError('required')">El nombre es obligatorio</small>
              </div>
            </div>
          </div>

          <div>
            <label class="text-base font-medium text-gray-900">
              Correo
            </label>
            <div class="mt-2">
              <input
                placeholder="Correo"
                type="email"
                class="flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50"
                name="email"
                formControlName="email"
              />
              <div *ngIf="form.get('email')?.touched">
                <small *ngIf="form.get('email')?.hasError('required')">El correo es obligatorio</small>
                <small *ngIf="form.get('email')?.hasError('email')">Formato de correo inválido</small>
              </div>
            </div>
          </div>

          <div>
            <label class="text-base font-medium text-gray-900">
              Confirmar correo
            </label>
            <div class="mt-2">
              <input
                placeholder="Confirmar correo"
                type="email"
                class="flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50"
                name="confirm_email"
                formControlName="confirm_email"
              />
              <div *ngIf="form.get('confirm_email')?.touched">
                <small *ngIf="form.hasError('emailMismatch')">Los correos no coinciden</small>
              </div>
            </div>
          </div>

          <div>
            <label class="text-base font-medium text-gray-900">
              Contraseña
            </label>
            <div class="mt-2 relative">
              <input
                placeholder="Contraseña"
                [type]="showPassword() ? 'text' : 'password'"
                class="flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50"
                name="password"
                formControlName="password"
              />
              <button
                (click)="toggleShowPassword()"
                type="button"
                class="absolute h-10 inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700"
                tabindex="-1"
              >
                @if (showPassword()) {
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                    <path d="M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
                    <path fill-rule="evenodd"
                          d="M.664 10.59a1.651 1.651 0 0 1 0-1.186A10.004 10.004 0 0 1 10 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0 1 10 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"
                          clip-rule="evenodd"/>
                  </svg>
                } @else {
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                    <path fill-rule="evenodd"
                          d="M3.28 2.22a.75.75 0 0 0-1.06 1.06l14.5 14.5a.75.75 0 1 0 1.06-1.06l-1.745-1.745a10.029 10.029 0 0 0 3.3-4.38 1.651 1.651 0 0 0 0-1.185A10.004 10.004 0 0 0 9.999 3a9.956 9.956 0 0 0-4.744 1.194L3.28 2.22ZM7.752 6.69l1.092 1.092a2.5 2.5 0 0 1 3.374 3.373l1.091 1.092a4 4 0 0 0-5.557-5.557Z"
                          clip-rule="evenodd"/>
                    <path
                      d="m10.748 13.93 2.523 2.523a9.987 9.987 0 0 1-3.27.547c-4.258 0-7.894-2.66-9.337-6.41a1.651 1.651 0 0 1 0-1.186A10.007 10.007 0 0 1 2.839 6.02L6.07 9.252a4 4 0 0 0 4.678 4.678Z"/>
                  </svg>
                }
              </button>

              <div *ngIf="form.get('password')?.touched">
                <small *ngIf="form.get('password')?.hasError('required')">La contraseña es obligatoria</small>
                <small *ngIf="form.get('password')?.hasError('minlength')">Debe tener al menos 6 caracteres</small>
              </div>
            </div>
          </div>

          <div>
            <label class="text-base font-medium text-gray-900">
              Confirmar contraseña
            </label>
            <div class="mt-2 relative">
              <input
                placeholder="Confirmar contraseña"
                [type]="showPasswordConfirm() ? 'text' : 'password'"
                class="flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50"
                name="confirm_password"
                formControlName="confirm_password"
              />
              <button
                (click)="toggleShowPasswordConfirm()"
                type="button"
                class="absolute h-10 inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700"
                tabindex="-1"
              >
                @if (showPasswordConfirm()) {
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                    <path d="M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
                    <path fill-rule="evenodd"
                          d="M.664 10.59a1.651 1.651 0 0 1 0-1.186A10.004 10.004 0 0 1 10 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0 1 10 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"
                          clip-rule="evenodd"/>
                  </svg>
                } @else {
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                    <path fill-rule="evenodd"
                          d="M3.28 2.22a.75.75 0 0 0-1.06 1.06l14.5 14.5a.75.75 0 1 0 1.06-1.06l-1.745-1.745a10.029 10.029 0 0 0 3.3-4.38 1.651 1.651 0 0 0 0-1.185A10.004 10.004 0 0 0 9.999 3a9.956 9.956 0 0 0-4.744 1.194L3.28 2.22ZM7.752 6.69l1.092 1.092a2.5 2.5 0 0 1 3.374 3.373l1.091 1.092a4 4 0 0 0-5.557-5.557Z"
                          clip-rule="evenodd"/>
                    <path
                      d="m10.748 13.93 2.523 2.523a9.987 9.987 0 0 1-3.27.547c-4.258 0-7.894-2.66-9.337-6.41a1.651 1.651 0 0 1 0-1.186A10.007 10.007 0 0 1 2.839 6.02L6.07 9.252a4 4 0 0 0 4.678 4.678Z"/>
                  </svg>
                }
              </button>

              <div *ngIf="form.get('confirm_password')?.touched">
                <small *ngIf="form.hasError('passwordMismatch')">Las contraseñas no coinciden</small>
              </div>
            </div>
          </div>

          <div class="mt-4">
            <button
              class="inline-flex w-full items-center justify-center rounded-md
                   bg-teal-200 px-3.5 py-2.5 font-semibold leading-7 text-gray-700
                   hover:bg-teal-300/80 hover:text-black
                   disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed disabled:opacity-60"
              type="submit"
              [disabled]="form.invalid"
            >
              Crear una cuenta
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
