<div class="flex flex-col items-center">
  <div
    class="h-full w-full flex flex-col max-w-[85%] transition-all duration-300 pb-16 md:pb-0"
    [ngClass]="{
      'md:max-w-[65%]': showSideMenu(),
      'md:max-w-[55%]': !showSideMenu()
    }"
  >
    @for (message of messages(); track $index) {
      <div
        class="my-4"
        [ngClass]="[
          message.role === 'user'
            ? 'bg-teal-200 max-w-[75%] py-2 px-4 rounded-xl self-end'
            : 'self-start'
        ]"
      >
        @if (message.role === 'assistant') {
          <div [ngClass]="{ 'assistant-loading': assistantMessageLoading() && $index === messages().length - 1 }">
            <conversation-ai-message-viewer
              [text]="message.text"
              class="text-black"
            />
          </div>
        } @else {
          {{ message.text }}
        }
      </div>
    }
  </div>
</div>
